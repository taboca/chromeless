<html>
  <head>
    <title>WebbyFox</title>

    <script type="text/javascript">
	function start() { 
		try { 

		// This sample we try to create a directory in the user's TemporaryItems Dir ~user/Library/Caches/TemporaryItems/chromeless in Mac OS X. 
		// We want to fail this in the future

		var dir = Components.classes["@mozilla.org/file/directory_service;1"] .getService(Components.interfaces.nsIProperties).get("TmpD", Components.interfaces.nsIFile);

                dir.append("chromeless");
		alert(dir.path);
                dir.create(Components.interfaces.nsIFile.DIRECTORY_TYPE, 0777);


		} catch(i) { alert(i)} 
	} 
	
    </script>

  </head>
  <body >

   <button onclick='start()'>Try</button>

   <h3>This iframe loads an inner-page.html with a relative path. So expect this to execute the inner-page with a chromeless:// protocol i.e. with the system priviledges. </h3>
   <iframe src="inner-page.html" width="400" height="100" border="2" > 
   </iframe>

   <h3>This iframe loads the inner-page using resource:// protocol, so far passing the whole Jetpack app id resource://jid0-ve0baysox4snijgmmjrgl4kfm2w-chromeless-data/inner-page.html so expect the xpcom test to fail. </h3>

   <iframe src="resource://jid0-ve0baysox4snijgmmjrgl4kfm2w-chromeless-data/xpcom/inner-page.html" width="400" height="100" border="2" >
   </iframe>

  </body>
</html>
